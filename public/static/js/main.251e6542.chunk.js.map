{"version":3,"sources":["api/smartspace.js","components/Spinner.js","components/NavBar.js","components/shoppingListsNav/ShoppingListsNav.js","components/shoppingListDisplay/MemberDisplay.js","components/shoppingItems/ShoppingItems.js","components/shoppingListDisplay/ShoppingListDisplay.js","components/mainPage/MainPage.js","components/login/Login.js","components/register/Register.js","components/UserDetails.js","components/ManageProfile.js","index.js"],"names":["http","axios","create","baseURL","getUserByKey","smartspace","email","get","concat","invokeAction","actionType","elementSmartspace","elementId","playerSmartspace","playerEmail","body","type","element","id","player","properties","arguments","length","undefined","post","createNewElement","managerSmartspace","managerEmail","elementType","name","lat","lng","latlng","elementProperties","Spinner","props","react_default","a","createElement","className","role","defaultProps","message","ProfileDropdown","user","data-toggle","src","avatar","alt","width","height","aria-labelledby","CreateRow","title","link","icon","style","components_Spinner","SmartspaceLink","react_router_dom","to","key","href","NavBar","ShoppingListsNav","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","newListName","newListDesc","timer","currentList","handleNewListNameChange","bind","handleNewListDescChange","handleCreateList","handleSelectShoppingList","prevProps","updateShoppingLists","event","setState","target","value","listData","_this2","shoppingListData","clearTimeout","selectShoppingList","setTimeout","_this3","listName","listDesc","onlineMembers","api","then","onlineIndicator","description","members","data","res","toast","success","catch","err","response","error","toString","_this4","shoppingListElements","shoppingListsData","map","shoppingList","active","onClick","Fragment","data-target","cursor","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","tabIndex","data-dismiss","htmlFor","onChange","required","React","Component","MemberDisplay","userData","online","updateUserData","assertThisInitialized","onlineUsers","userSmartspace","userEmail","isOnline","indexOf","marker","username","Item","isMarked","textMarked","marked","itemName","toggleItemMarking","ShoppingItems","addItemName","itemsData","handleAddItemNameChange","handleSubmitNewItem","updateItems","e","listSmartspace","listId","listKey","page","size","params","itemData","markValue","markStatus","_this5","items","item","ShoppingItems_Item","placeholder","onKeyDown","ShoppingListDisplay","newMemberEmail","newMemberSmartspace","handleNewMemberEmailChange","handleAddNewMember","memberToCheck","JSON","parse","stringify","m","newElementProperties","newUserKey","push","membersAlreadyContains","addMember","_ref2","elementName","put","changingList","membersDisplay","shoppingListDisplay_MemberDisplay","backgroundColor","creator","components_shoppingItems_ShoppingItems","handlenewMemberSmartspaceChange","MainPage","selectedShoppingList","updateOnlineMembers","match","window","addEventListener","ev","preventDefault","checkOutThenCheckIn","newListData","checkIn","oldListData","_this6","components_NavBar","components_shoppingListsNav_ShoppingListsNav","components_shoppingListDisplay_ShoppingListDisplay","Login","isUserLoggedIn","handleEmailChange","handleSmartspaceChange","handleSubmit","info","react_router","onSubmit","registerSuccess","handleUsernameChange","handleAvatarChange","handleRoleChange","defaultValue","UserCard","children","TextField","label","disabled","UserDetails","points","handleProfileUpdate","ManageProfile","newUsername","newAvatar","_ref","components_UserDetails","configure","App","path","exact","component","Register","ReactDOM","render","src_App","document","querySelector"],"mappings":"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","file":"static/js/main.251e6542.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst http = axios.create({\n    baseURL: \"http://localhost:8080/smartspace/\",\n    //headers: {\n    //   dont remove this might use later\n    //}\n});\n\n// user login\nexport const getUserByKey = (smartspace, email) => {\n    return http.get(`users/login/${smartspace}/${email}`);\n}\n\n// register user\nexport const registerAccount = (email, role, username, avatar) => {\n    const body = {\n        \"email\": email,\n        \"role\": role,\n        \"username\": username,\n        \"avatar\": avatar\n    }\n\n    return http.post('users', body);\n}\n\n// Update user \n// example usage: api.updateUser(\"2019B.nadav.peleg\", \"player@gmail.com\", {avatar: \"image.png\"});\n// example usage: api.updateUser(\"2019B.nadav.peleg\", \"player@gmail.com\", {role: \"MANAGER\", avatar: \"image.png\"});\nexport const updateUser = (smartspace, email, { role, username, avatar }) => {\n    let body = {}\n\n    if (role != null) {\n        body[\"role\"] = role;\n    }\n    if (username != null) {\n        body[\"username\"] = username;\n    }\n    if (avatar != null) {\n        body[\"avatar\"] = avatar;\n    }\n\n    return http.put(`users/login/${smartspace}/${email}`, body);\n}\n\n// Update element \nexport const updateElement = (managerSmartspace, managerEmail, elementSmartspace, elementId, { elementName, elementType, elementProperties }) => {\n    let body = {}\n\n    if (elementName != null) {\n        body[\"name\"] = elementName;\n    }\n    if (elementType != null) {\n        body[\"elementType\"] = elementType;\n    }\n    if (elementProperties != null) {\n        body[\"elementProperties\"] = elementProperties;\n    }\n\n    return http.put(`elements/${managerSmartspace}/${managerEmail}/${elementSmartspace}/${elementId}`, body);\n}\n\n// get element\nexport const getElementByKey = (smartspace, email, elementSmartspace, elementId) => {\n    return http.get(`elements/${smartspace}/${email}/${elementSmartspace}/${elementId}`);\n}\n\n// get All elements using pagination\nexport const getAllElementsUsingPagination = (smartspace, email, page = 0, size = 10) => {\n    return http.get(`elements/${smartspace}/${email}`, {\n        params: { page: page, size: size }\n    });\n}\n\n// search elements by type\nexport const getElementsByType = (smartspace, email, typeSearchStr, page = 0, size = 10) => {\n    return http.get(`elements/${smartspace}/${email}`, {\n        params: {\n            search: 'type',\n            value: typeSearchStr,\n            page: page,\n            size: size\n        }\n    });\n}\n\n// search elements by name\nexport const getElementsByName = (smartspace, email, nameSearchStr, page = 0, size = 10) => {\n    return http.get(`elements/${smartspace}/${email}`, {\n        params: {\n            search: 'name',\n            value: nameSearchStr,\n            page: page,\n            size: size\n        }\n    });\n}\n\n//get all elements by location\nexport const getAllElementsByLocatoin = (smartspace, email, x = 0, y = 0, distance = 10, page = 0, size = 10) => {\n    return http.get(`elements/${smartspace}/${email}`, {\n        params: {\n            search: 'location',\n            x: x,\n            y: y,\n            distance: distance,\n            page: page,\n            size: size\n        }\n    });\n}\n\n// invoke actions\nexport const invokeAction = (actionType, elementSmartspace, elementId, playerSmartspace, playerEmail, properties = {}) => {\n    const body = {\n        \"type\": actionType,\n        \"element\": { \"smartspace\": elementSmartspace, \"id\": elementId },\n        \"player\": { \"smartspace\": playerSmartspace, \"email\": playerEmail },\n        \"properties\": properties\n    }\n\n    return http.post('actions', body);\n}\n\n// create new element\nexport const createNewElement = (managerSmartspace, managerEmail, elementType, name, lat, lng, properties = {}) => {\n    const body = {\n        \"elementType\": elementType,\n        \"name\": name,\n        \"latlng\": { \"lat\": lat, \"lng\": lng },\n        \"elementProperties\": properties\n    }\n\n    return http.post(`elements/${managerSmartspace}/${managerEmail}`, body);\n}\n\n// # -------------------------- Bussiness Logic -------------------------- #\n\n// create a new shopping list, will only work as manager.\nexport const createNewShoppingList = (smartspace, email, listName, listDesc, onlineIndicator) => {\n    return createNewElement(smartspace, email, \"ShoppingList\", listName, 0, 0, {\n        description: listDesc,\n        onlineIndicator: onlineIndicator.key,\n        members: []\n    });\n}\n\n// create online indicator\nexport const createOnlineIndicator = (smartspace, email, listName) => {\n    return createNewElement(smartspace, email, \"OnlineIndicator\", listName + \"indicator\", 0, 0, {\n        onlineMembers: []\n    });\n}\n\n// get all shopping lists for a user\nexport const getAllShoppingLists = (smartspace, email, page=0, size=100) => {\n    return http.get(`shoppingLists/${smartspace}/${email}`, {\n        params: {\n            page: page,\n            size: size\n        }\n    });\n}\n\n// get all shopping items for a list\nexport const getAllItemsByShoppingList = (userSmartspace, userEmail, listSmartspace, listId, page=0, size=100) => {\n    return http.get(`shoppingLists/${userSmartspace}/${userEmail}/${listSmartspace}/${listId}`, {\n        params: {\n            page: page,\n            size: size\n        }\n    });\n}\n\n// create a new shopping list, will only work as manager.\nexport const createNewShoppingItem = (userSmartspace, userEmail, listSmartspace, listId, itemName) => {\n    return createNewElement(userSmartspace, userEmail, \"ShoppingItem\", itemName, 0, 0, {\n        listKey: {smartspace: listSmartspace, id: listId},\n        marked: false\n    });\n}\n\n// invoke mark item action\nexport const invokeMarkItem = (elementSmartspace, elementId, playerSmartspace, playerEmail, markValue) => {\n    return invokeAction(\"MarkItem\", elementSmartspace, elementId, playerSmartspace, playerEmail, {\n        markStatus: markValue\n    });\n}\n\n// check in\nexport const invokeCheckIn = (elementSmartspace, elementId, playerSmartspace, playerEmail) => {\n    return invokeAction(\"CheckIn\", elementSmartspace, elementId, playerSmartspace, playerEmail);\n}\n\n// check out\nexport const invokeCheckOut = (elementSmartspace, elementId, playerSmartspace, playerEmail) => {\n    return invokeAction(\"CheckOut\", elementSmartspace, elementId, playerSmartspace, playerEmail);\n}","import React from 'react'\n\nconst Spinner = (props) => {\n    return (\n        <div className=\"d-flex justify-content-center\">\n            <div className=\"spinner-border text-primary\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n            </div>\n        </div>\n    );\n};\nSpinner.defaultProps = {\n    message: 'Loading...'\n};\nexport default Spinner","import React from \"react\";\nimport Spinner from \"./Spinner\";\nimport { Link } from 'react-router-dom';\n\nfunction ProfileDropdown(props) {\n    let user = props.user;\n    if (user != null) {\n        return (\n            <div>\n                <div className=\"\" data-toggle=\"dropdown\">\n                    <img className=\"rounded-circle p-3\" src={user.avatar} alt={user.avatar} width=\"64px\" height=\"64px\" />\n                    <small className=\"dropdown-toggle\"></small>\n                </div>\n                <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                    <CreateRow title=\"View Profile\" link=\"./profile\" icon=\"info-sign\" />\n                    <CreateRow title=\"Log Out\" link=\"/\" icon=\"log-out\" />\n                </div>\n            </div>\n        );\n    }\n\n    return <div className=\"p-3\" style={{height: \"64px\"}}><Spinner /></div>\n}\n\nfunction SmartspaceLink(props) {\n    let user = props.user;\n    if (user != null) {\n        return <Link className=\"navbar-brand mt-2 \" to={`/dashboard/${user.key.smartspace}/${user.key.email}/`}>Smartspace</Link>\n    }\n\n    // don't use <Link> here because Router might not be mounted yet\n    return <a className=\"navbar-brand mt-2 \" href=\"/\">Smartspace</a>\n}\n\nexport function NavBar(props) {\n    let user = props.user;\n    return (\n        <nav className=\"navbar navbar-light bg-light\">\n            <div className=\"w-100\">\n                <div className=\"float-left\">\n                    <div className=\"dropdown ml-2\">\n                        <ProfileDropdown user={user} />\n                    </div>\n                </div>\n                <div className=\"float-right\">\n                    <SmartspaceLink user={user}/>\n                </div>\n            </div>\n        </nav>\n    );\n}\n\nfunction CreateRow(props) {\n    return (\n        <Link className=\"dropdown-item\" to={props.link}>\n            <div className=\"row\">\n                <div className=\"col\">{props.title}</div>\n                <div className=\"col-3 text-center\"><span className={`glyphicon glyphicon-${props.icon}`}></span></div>\n            </div>\n        </Link>\n    );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { toast } from 'react-toastify';\n\nimport * as api from '../../api/smartspace';\nimport \"./ShoppingListsNav.css\";\n\nclass ShoppingListsNav extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { newListName: \"\", newListDesc: \"\" };\n\t\tthis.timer = null;\n\t\tthis.currentList = null;\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.handleNewListNameChange = this.handleNewListNameChange.bind(this);\n\t\tthis.handleNewListDescChange = this.handleNewListDescChange.bind(this);\n\t\tthis.handleCreateList = this.handleCreateList.bind(this);\n\t\tthis.handleSelectShoppingList = this.handleSelectShoppingList.bind(this);\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.user && (this.props.user !== prevProps.user)) {\n\t\t\tthis.props.updateShoppingLists();\n\t\t}\n\t}\n\n\thandleNewListNameChange(event) {\n\t\tthis.setState({ newListName: event.target.value });\n\t}\n\n\thandleNewListDescChange(event) {\n\t\tthis.setState({ newListDesc: event.target.value });\n\t}\n\n\thandleSelectShoppingList(listData) {\n\t\tif (listData && this.props.shoppingListData && listData.key.smartspace === this.props.shoppingListData.key.smartspace && listData.key.id === this.props.shoppingListData.key.id) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.timer) {\n\t\t\tclearTimeout(this.timer);\n\t\t\tthis.timer = null;\n\t\t}\n\n\t\tthis.props.selectShoppingList(null);\n\t\tthis.timer = setTimeout(() => {this.props.selectShoppingList(listData)}, 850);\n\t}\n\n\thandleCreateList() {\n\t\tif (this.props.user) {\n\t\t\tlet smartspace = this.props.user.key.smartspace;\n\t\t\tlet email = this.props.user.key.email;\n\t\t\tlet listName = this.state.newListName;\n\t\t\tlet listDesc = this.state.newListDesc;\n\n\t\t\tapi.createOnlineIndicator(smartspace, email, listName).then(onlineIndicator => {\n\t\t\t\tapi.createNewShoppingList(smartspace, email, listName, listDesc, onlineIndicator.data)\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\ttoast.success(\"Created list \" + listName);\n\t\t\t\t\t\tthis.props.updateShoppingLists();\n\t\t\t\t\t\tthis.setState({ newListName: \"\", newListDesc: \"\" });\n\t\t\t\t\t\tthis.handleSelectShoppingList(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\tif (err.response) {\n\t\t\t\t\t\t\ttoast.error(err.response.data.message);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\ttoast.error(err.toString());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tif (err.response) {\n\t\t\t\t\t\ttoast.error(err.response.data.message);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttoast.error(err.toString());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst shoppingListElements = this.props.shoppingListsData.map((shoppingList) => {\n\t\t\tlet active = \"\";\n\t\t\tif (this.props.shoppingListData && this.props.shoppingListData.key.smartspace === shoppingList.key.smartspace && this.props.shoppingListData.key.id === shoppingList.key.id) {\n\t\t\t\tactive = \" active\";\n\t\t\t}\n\n\t\t\treturn <a className={\"list-group-item list-group-item-action\" + active} id={`list-${shoppingList.key.id}`} data-toggle=\"list\" href={`#${shoppingList.key.id}`} key={shoppingList.key.id} role=\"tab\" smartspace={shoppingList.key.id} onClick={this.handleSelectShoppingList.bind(null, shoppingList)} >{shoppingList.name}</a>\n\t\t});\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<h6 className=\"d-flex justify-content-between align-items-center px-3 mt-3 mb-3 text-muted\">\n\t\t\t\t\t<span className=\"pl-2\">My Lists</span>\n\t\t\t\t\t<span className=\"d-flex align-items-center text-muted\" data-toggle=\"modal\" data-target=\"#newList\" style={{ cursor: 'pointer' }}>\n\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-plus-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\n\t\t\t\t\t</span>\n\t\t\t\t</h6>\n\n\t\t\t\t<div className=\"list-group text-center mt-0 \" id=\"list-tab\" role=\"tablist\">\n\t\t\t\t\t{shoppingListElements}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"modal fade\" id=\"newList\" tabIndex=\"-1\" role=\"dialog\">\n\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\n\t\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"createNewListLabel\">Create A New List</h5>\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\"></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"list-name\" className=\"col-form-label\">List Name:</label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" id=\"list-name\" value={this.state.newListName} onChange={this.handleNewListNameChange} required />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"list-text\" className=\"col-form-label\">Description:</label>\n\t\t\t\t\t\t\t\t\t\t<textarea className=\"form-control\" id=\"list-text\" value={this.state.newListDesc} onChange={this.handleNewListDescChange}></textarea>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.handleCreateList}>Create</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default ShoppingListsNav;\n","import React from \"react\";\r\nimport { toast } from 'react-toastify';\r\n\r\nimport * as api from '../../api/smartspace';\r\nimport \"./ShoppingListDisplay.css\";\r\n\r\nclass MemberDisplay extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { userData: null, online: false };\r\n\r\n\t\tthis.updateUserData = this.updateUserData.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateUserData();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.user && ((this.props.user !== prevProps.user) || (this.props.onlineUsers !== prevProps.onlineUsers))) {\r\n\t\t\tthis.updateUserData();\r\n\t\t}\r\n\t}\r\n\r\n\tupdateUserData() {\r\n\t\tlet user = this.props.user;\r\n\t\tlet onlineUsers = this.props.onlineUsers;\r\n\r\n\t\tif (user) {\r\n\t\t\tapi.getUserByKey(user.userSmartspace, user.userEmail)\r\n\t\t\t\t.then(res => this.setState({ userData: res.data }))\r\n\t\t\t\t.catch(err => toast.error(err.toString()));\r\n\r\n\t\t\t// add green dot if online\r\n\t\t\tif (onlineUsers) {\r\n\t\t\t\tlet isOnline = (onlineUsers.indexOf(`${user.userSmartspace}#${user.userEmail}`) >= 0);\r\n\t\t\t\tthis.setState({ online: isOnline });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.userData) {\r\n\t\t\tlet userData = this.state.userData;\r\n\t\t\tlet marker = \"\";\r\n\r\n\t\t\tif (this.state.online) {\r\n\t\t\t\tmarker = \"online\"\r\n\t\t\t}\r\n\r\n\t\t\tif (userData && userData.role === \"MANAGER\") {\r\n\t\t\t\tmarker = \"manager\"\r\n\t\t\t}\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<span className={marker}></span>\r\n\t\t\t\t\t<img className=\"rounded-circle border mx-1\" src={userData.avatar} title={userData.username} alt={userData.username} width=\"48px\" height=\"48px\" />\r\n\t\t\t\t</span>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<span></span>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MemberDisplay;\r\n","import React from \"react\";\r\nimport { toast } from 'react-toastify';\r\n\r\nimport * as api from '../../api/smartspace';\r\nimport \"./ShoppingItems.css\";\r\n\r\n// TODO: change to functinal componenet\r\nclass Item extends React.Component {\r\n\r\n\trender() {\r\n\t\tlet isMarked = \"\";\r\n\t\tlet textMarked = \"\";\r\n\r\n\t\tif (this.props.marked) {\r\n\t\t\tisMarked = \" checked\"\r\n\t\t\ttextMarked = \" textChecked\"\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"col-12 col-md-4 col-lg-3 mb-3\">\r\n\t\t\t\t<div className=\"mx-1 bg-light rounded border p-2 row itemBox\">\r\n\t\t\t\t\t<div className=\"col overflow-hidden\">\r\n\t\t\t\t\t\t<span className={\"lead itemText text-center\" + textMarked}>{this.props.itemName}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={\"col-2 myCheckbox\" + isMarked} onClick={this.props.toggleItemMarking}></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass ShoppingItems extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { addItemName: \"\", itemsData: [] };\r\n\r\n\t\tthis.handleAddItemNameChange = this.handleAddItemNameChange.bind(this);\r\n\t\tthis.handleSubmitNewItem = this.handleSubmitNewItem.bind(this);\r\n\t\tthis.toggleItemMarking = this.toggleItemMarking.bind(this);\r\n\t\tthis.updateItems = this.updateItems.bind(this);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.shoppingListData && (this.props.shoppingListData !== prevProps.shoppingListData)) {\r\n\t\t\tthis.updateItems();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateItems();\r\n\t}\r\n\r\n\thandleAddItemNameChange(event) {\r\n\t\tthis.setState({ addItemName: event.target.value });\r\n\t}\r\n\r\n\thandleSubmitNewItem(e) {\r\n\t\t// submit when pressing enter\r\n\t\tif (e.key && e.key !== 'Enter') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet user = this.props.user;\r\n\t\tlet listData = this.props.shoppingListData;\r\n\r\n\t\tapi.createNewShoppingItem(user.key.smartspace, user.key.email, listData.key.smartspace, listData.key.id, this.state.addItemName)\r\n\t\t\t.then(res => {\r\n\t\t\t\ttoast.success(\"Created item \" + this.state.addItemName);\r\n\t\t\t\tthis.updateItems();\r\n\t\t\t\tthis.setState({ addItemName: \"\" });\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tupdateItems() {\r\n\t\tlet user = this.props.user;\r\n\t\tlet listData = this.props.shoppingListData;\r\n\r\n\t\tapi.getAllItemsByShoppingList(user.key.smartspace, user.key.email, listData.key.smartspace, listData.key.id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ addItemName: \"\", itemsData: res.data });\r\n\t\t\t})\r\n\t\t\t.catch(err => toast.error(err.toString()));\r\n\t}\r\n\r\n\ttoggleItemMarking(itemData) {\r\n\t\tlet user = this.props.user;\r\n\r\n\t\tapi.invokeMarkItem(itemData.key.smartspace, itemData.key.id, user.key.smartspace, user.key.email, !itemData.elementProperties.marked)\r\n\t\t\t.then(res => this.updateItems())\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet items = this.state.itemsData.map(item => <Item itemName={item.name} marked={item.elementProperties.marked} toggleItemMarking={this.toggleItemMarking.bind(null, item)} key={item.key.id} />)\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{items}\r\n\r\n\t\t\t\t<div className=\"col-12 col-md-4 col-lg-3 mb-3\">\r\n\t\t\t\t\t<div className=\"mx-1 bg-light rounded border p-2 row itemBox\">\r\n\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control addItemField\" placeholder=\"Add Item\" value={this.state.addItemName} onChange={this.handleAddItemNameChange} onKeyDown={this.handleSubmitNewItem} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-2 myCheckbox addIcon\" onClick={this.handleSubmitNewItem}></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ShoppingItems;\r\n","import React from \"react\";\r\nimport { toast } from 'react-toastify';\r\n\r\nimport * as api from '../../api/smartspace';\r\nimport \"./ShoppingListDisplay.css\";\r\nimport MemberDisplay from './MemberDisplay';\r\nimport ShoppingItems from '../shoppingItems/ShoppingItems'\r\nimport Spinner from '../Spinner';\r\n\r\nclass ShoppingListDisplay extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { newMemberEmail: \"\", newMemberSmartspace: \"\" };\r\n\r\n\t\tthis.handleNewMemberEmailChange = this.handleNewMemberEmailChange.bind(this);\r\n\t\tthis.handleAddNewMember = this.handleAddNewMember.bind(this);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.user && (this.props.user !== prevProps.user)) {\r\n\t\t\tthis.setState({ newMemberSmartspace: this.props.user.key.smartspace });\r\n\t\t}\r\n\t}\r\n\r\n\thandlenewMemberSmartspaceChange(event) {\r\n\t\tthis.setState({ newMemberSmartspace: event.target.value });\r\n\t}\r\n\r\n\r\n\thandleNewMemberEmailChange(event) {\r\n\t\tthis.setState({ newMemberEmail: event.target.value });\r\n\t}\r\n\r\n\tmembersAlreadyContains(members, memberToCheck) {\r\n\t\tmembers = JSON.parse(JSON.stringify(members)); // clone\r\n\t\treturn (members.map(m => JSON.stringify(m)).indexOf(JSON.stringify(memberToCheck)) >= 0);\r\n\t}\r\n\r\n\thandleAddNewMember() {\r\n\t\tlet userData = this.props.user;\r\n\t\tlet listData = this.props.shoppingListData;\r\n\r\n\t\tif (userData && userData.role && listData) {\r\n\t\t\tlet newElementProperties = listData.elementProperties;\r\n\t\t\tnewElementProperties = JSON.parse(JSON.stringify(newElementProperties)); // clone\r\n\r\n\t\t\t// add member to array\r\n\t\t\tlet newUserKey = { \"userSmartspace\": this.state.newMemberSmartspace, \"userEmail\": this.state.newMemberEmail }\r\n\t\t\tnewElementProperties.members.push(newUserKey);\r\n\r\n\t\t\tif (this.membersAlreadyContains(listData.elementProperties.members, newUserKey)) {\r\n\t\t\t\ttoast.error(\"This user is already a member in this shopping list.\");\r\n\t\t\t\tthis.setState({ newMemberEmail: \"\" });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst addMember = () => {\r\n\t\t\t\tapi.updateElement(userData.key.smartspace, userData.key.email, listData.key.smartspace, listData.key.id, { elementProperties: newElementProperties })\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\ttoast.success(\"Added user \" + this.state.newMemberEmail)\r\n\t\t\t\t\t\tlistData.elementProperties.members.push({ \"userSmartspace\": this.state.newMemberSmartspace, \"userEmail\": this.state.newMemberEmail });\r\n\r\n\t\t\t\t\t\tthis.props.updateShoppingLists();\r\n\t\t\t\t\t\tthis.setState({ newMemberEmail: \"\" });\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tapi.getUserByKey(this.state.newMemberSmartspace, this.state.newMemberEmail)\r\n\t\t\t\t.then(res => addMember())\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.props.shoppingListData && !this.props.changingList) {\r\n\t\t\tlet listData = this.props.shoppingListData;\r\n\t\t\tlet membersDisplay = listData.elementProperties.members.map(user => {\r\n\t\t\t\treturn <MemberDisplay user={user} key={user.userEmail} onlineUsers={this.props.onlineUsers} />\r\n\t\t\t})\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"jumbotron jumbotron-fluid py-2\" style={{ backgroundColor: \"rgb(220, 170, 120)\" }}>\r\n\t\t\t\t\t\t<div className=\"container text-center mx-auto\">\r\n\t\t\t\t\t\t\t<h1 className=\"display-4\">{listData.name}</h1>\r\n\t\t\t\t\t\t\t<p className=\"lead\">{listData.elementProperties.description}</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span className=\"membersBox\">\r\n\t\t\t\t\t\t\t\t\t{membersDisplay}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"membersBox\">\r\n\t\t\t\t\t\t\t\t\t<MemberDisplay user={{ userSmartspace: listData.creator.smartspace, userEmail: listData.creator.email }} onlineUsers={this.props.onlineUsers} />\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted mx-1\" data-toggle=\"modal\" data-target=\"#newMember\" style={{ cursor: 'pointer' }}>\r\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"feather feather-plus-circle\"><title id=\"title\">Add Users</title><circle cx=\"12\" cy=\"12\" r=\"10\"></circle><line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line><line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line></svg>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<ShoppingItems user={this.props.user} shoppingListData={this.props.shoppingListData} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"newMember\" tabIndex=\"-1\" role=\"dialog\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"addMemberLabel\">Add New Player</h5>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\"></button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"list-namel\" className=\"col-form-label\">Player Smartspace:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"email\" className=\"form-control\" id=\"list-namel\" value={this.state.newMemberSmartspace} onChange={this.handlenewMemberSmartspaceChange} required />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"list-namel\" className=\"col-form-label\">Player Email:</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"email\" className=\"form-control\" id=\"list-addEmail\" value={this.state.newMemberEmail} onChange={this.handleNewMemberEmailChange} required />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={this.handleAddNewMember}>Add</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn <div className=\"text-center mt-4\"><h1 className=\"display-2 mb-4\">Loading...</h1><Spinner /></div>\r\n\t}\r\n}\r\n\r\nexport default ShoppingListDisplay;","import React from \"react\";\r\nimport { toast } from 'react-toastify';\r\n\r\nimport * as api from '../../api/smartspace';\r\nimport NavBar from \"../NavBar\";\r\nimport ShoppingListsNav from \"../shoppingListsNav/ShoppingListsNav\";\r\nimport ShoppingListDisplay from \"../shoppingListDisplay/ShoppingListDisplay\";\r\n\r\nimport \"./MainPage.css\";\r\n\r\nclass MainPage extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { smartspace: \"\", email: \"\", selectedShoppingList: null, changingList: false, user: null, onlineUsers: [], shoppingListsData: [] };\r\n\r\n\t\tthis.selectShoppingList = this.selectShoppingList.bind(this);\r\n\t\tthis.updateOnlineMembers = this.updateOnlineMembers.bind(this);\r\n\t\tthis.updateShoppingLists = this.updateShoppingLists.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.match && this.props.match.params) {\r\n\t\t\tlet params = this.props.match.params;\r\n\t\t\tthis.setState({ smartspace: params.smartspace, email: params.email });\r\n\t\t\tapi.getUserByKey(params.smartspace, params.email)\r\n\t\t\t\t.then(res => this.setState({ user: res.data }))\r\n\t\t\t\t.catch(err => toast.error(err.toString()));\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"beforeunload\", (ev) => {\r\n\t\t\tev.preventDefault();\r\n\t\t\tif (this.state.user && this.state.user.role === \"PLAYER\") {\r\n\t\t\t\tthis.checkOutThenCheckIn(this.state.selectedShoppingList, null);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tselectShoppingList(newListData) {\r\n\t\t// show loading\r\n\t\tif (newListData == null) {\r\n\t\t\tthis.setState({ changingList: true });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// return if change to same list\r\n\t\tif (newListData && this.state.selectedShoppingList && newListData.key.smartspace === this.state.selectedShoppingList.key.smartspace && newListData.key.id === this.state.selectedShoppingList.key.id) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// check to new list and check out from last list\r\n\t\tif (this.state.user && newListData && newListData.elementProperties.onlineIndicator) {\r\n\t\t\tif (this.state.user.role === \"PLAYER\") {\r\n\t\t\t\tif (this.state.selectedShoppingList) {\r\n\t\t\t\t\tthis.checkOutThenCheckIn(this.state.selectedShoppingList, newListData) // check out from old list then check in to new list.\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.checkIn(newListData); // only check in to new list.\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.updateOnlineMembers(newListData); // manager can't check in, only get online status.\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// change selected list\r\n\t\tthis.setState({ selectedShoppingList: newListData, changingList: false });\r\n\t}\r\n\r\n\tcheckIn(newListData) {\r\n\t\tif (this.state.user && newListData && newListData.elementProperties.onlineIndicator) {\r\n\t\t\tlet onlineIndicator = newListData.elementProperties.onlineIndicator;\r\n\t\t\tlet user = this.state.user;\r\n\r\n\t\t\tapi.invokeCheckIn(onlineIndicator.smartspace, onlineIndicator.id, user.key.smartspace, user.key.email)\r\n\t\t\t\t.then(res => { this.updateOnlineMembers(newListData) })\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcheckOutThenCheckIn(oldListData, newListData) {\r\n\t\tif (this.state.user && oldListData && oldListData.elementProperties.onlineIndicator) {\r\n\t\t\tlet onlineIndicator = oldListData.elementProperties.onlineIndicator;\r\n\t\t\tlet user = this.state.user;\r\n\r\n\t\t\tapi.invokeCheckOut(onlineIndicator.smartspace, onlineIndicator.id, user.key.smartspace, user.key.email)\r\n\t\t\t\t.then(res => this.checkIn(newListData))\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\ttoast.error(err.response.data.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttoast.error(err.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tupdateOnlineMembers(newListData) {\r\n\t\tif (this.state.user && newListData.elementProperties.onlineIndicator) {\r\n\t\t\tlet onlineIndicator = newListData.elementProperties.onlineIndicator;\r\n\t\t\tlet user = this.state.user;\r\n\r\n\t\t\tapi.getElementByKey(user.key.smartspace, user.key.email, onlineIndicator.smartspace, onlineIndicator.id)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.setState({ onlineUsers: res.data.elementProperties.onlineMembers })\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => toast.error(err.toString()));\r\n\t\t}\r\n\t}\r\n\r\n\tupdateShoppingLists() {\r\n\t\tlet user = this.state.user;\r\n\r\n\t\tapi.getAllShoppingLists(user.key.smartspace, user.key.email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ shoppingListsData: res.data });\r\n\r\n\t\t\t\tif (this.state.selectedShoppingList == null && res.data && res.data.length > 0) {\r\n\t\t\t\t\tthis.selectShoppingList(res.data[0]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => toast.error(err.toString()));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className='mainPage-display'>\r\n\t\t\t\t<NavBar user={this.state.user} />\r\n\t\t\t\t<div className=\"row mx-0\">\r\n\t\t\t\t\t<div className=\"col-2 border p-0 sidebar bg-light\">\r\n\t\t\t\t\t\t<ShoppingListsNav user={this.state.user} selectShoppingList={this.selectShoppingList} shoppingListData={this.state.selectedShoppingList} shoppingListsData={this.state.shoppingListsData} updateShoppingLists={this.updateShoppingLists} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col mainContent p-0\">\r\n\t\t\t\t\t\t<ShoppingListDisplay user={this.state.user} shoppingListData={this.state.selectedShoppingList} changingList={this.state.changingList} onlineUsers={this.state.onlineUsers} updateShoppingLists={this.updateShoppingLists} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\n\nimport * as api from '../../api/smartspace';\nimport './Login.css';\n\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isUserLoggedIn: false,\n            email: '',\n            smartspace: '2019B.nadav.peleg',\n            user: ''\n        };\n        this.handleEmailChange = this.handleEmailChange.bind(this);\n        this.handleSmartspaceChange = this.handleSmartspaceChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleEmailChange(event) {\n        this.setState({ email: event.target.value });\n    }\n\n    handleSmartspaceChange(event) {\n        this.setState({ smartspace: event.target.value });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        api.getUserByKey(this.state.smartspace, this.state.email)\n            .then(res => {\n                this.setState({ user: res.data, isUserLoggedIn: true });\n                toast.info(\"Logged in successfully\");\n            }\n            ).catch(err => toast.error(err.toString()));\n    }\n\n    render() {\n\n        if (!this.state.isUserLoggedIn) {\n            return (\n                <div className=\"container\">\n                    <div className=\"form-signin bg-light border rounded my-5\">\n                        <form onSubmit={this.handleSubmit}>\n                            <h1 className=\"h3 mb-4 text-center\">Sign In</h1>\n                            <input type=\"text\" className=\"form-control\" placeholder=\"User Smartspace\" value={this.state.smartspace} onChange={this.handleSmartspaceChange} required />\n                            <input type=\"email\" className=\"form-control mt-2\" placeholder=\"User Email\" value={this.state.email} onChange={this.handleEmailChange} required />\n                            <button className=\"btn btn-lg btn-primary btn-block mt-3\" type=\"submit\" >Sign in</button>\n\n                            <hr />\n                            <p className=\"my-0\">\n                                <Link to=\"/register/\"> <small className=\"form-text text-muted\">Or click here to sign up</small> </Link>\n                            </p>\n\n                        </form>\n                    </div></div>\n            );\n        }\n\n        return <Redirect to={`/dashboard/${this.state.smartspace}/${this.state.email}/`} />;\n    }\n}\n\nexport default Login;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\n\nimport * as api from '../../api/smartspace';\nimport './Register.css';\n\nclass Login extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            registerSuccess: false,\n            email: '',\n            username: '',\n            avatar: '',\n            role: 'PLAYER',\n            user: null\n        };\n        this.handleEmailChange = this.handleEmailChange.bind(this);\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\n        this.handleAvatarChange = this.handleAvatarChange.bind(this);\n        this.handleRoleChange = this.handleRoleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleEmailChange(event) {\n        this.setState({ email: event.target.value });\n    }\n\n    handleUsernameChange(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    handleAvatarChange(event) {\n        this.setState({ avatar: event.target.value });\n    }\n\n    handleRoleChange(event) {\n        this.setState({ role: event.target.value });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        api.registerAccount(this.state.email, this.state.role, this.state.username, this.state.avatar).then(res => {\n            this.setState({ user: res.data, registerSuccess: true });\n            toast.info(\"Success! You are now logged in.\");\n        }\n        ).catch(err => {\n            if (err.response) {\n                toast.error(err.response.data.message);\n            }\n            else {\n                toast.error(err.toString());\n            }\n        });\n\n    }\n\n    render() {\n        if (!this.state.registerSuccess) {\n            return (\n                <div className=\"container\">\n                    <div className=\"form-signin bg-light border rounded mt-5\">\n                        <form onSubmit={this.handleSubmit}>\n                            <h1 className=\"h3 mb-4 mt-2 text-center\">Sign Up</h1>\n                            <hr />\n                            <input type=\"email\" className=\"form-control mb-3\" placeholder=\"User Email\" value={this.state.email} onChange={this.handleEmailChange} required />\n                            <input type=\"text\" className=\"form-control mb-3\" placeholder=\"Username\" value={this.state.username} onChange={this.handleUsernameChange} required />\n                            <input type=\"text\" className=\"form-control mb-3\" placeholder=\"Avatar (image url)\" value={this.state.avatar} onChange={this.handleAvatarChange} required />\n\n                            <select className=\"form-control\" onChange={this.handleRoleChange}>\n                                <option defaultValue>PLAYER</option>\n                                <option>MANAGER</option>\n                                <option>ADMIN</option>\n                            </select>\n\n                            <button className=\"btn btn-lg btn-primary btn-block mt-3\" type=\"submit\" >Sign up</button>\n                        </form>\n                    </div>\n                </div>\n            );\n        }\n\n        let userData = this.state.user;\n        return <Redirect to={`/dashboard/${userData.key.smartspace}/${userData.key.email}/`} />;\n    }\n}\n\nexport default Login;\n","import React from \"react\";\nimport Spinner from \"./Spinner\";\n\nfunction UserCard(props) {\n    return (\n        <div className=\"card mx-auto w-50\">\n\n            <div className=\"card-header\">\n                {props.title}\n            </div>\n\n            <div className=\"card-body text-left\">\n                {props.children}\n            </div>\n        </div>\n    );\n}\n\nfunction TextField(props) {\n    return (\n        <div className=\"card-text form-group\">\n            <label htmlFor={props.id}>{props.label}</label>\n            <input type=\"text\" className=\"form-control\" id={props.id} placeholder={props.label} value={props.value} disabled={props.disabled} onChange={props.onChange} />\n        </div>\n    );\n}\n\nclass UserDetails extends React.Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = { username: \"\", avatar: \"\" };\n\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\n        this.handleAvatarChange = this.handleAvatarChange.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.user && (this.props.user !== prevProps.user)) {\n            let user = this.props.user;\n            this.setState({ username: user.username, avatar: user.avatar });\n        }\n    }\n\n    handleUsernameChange(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    handleAvatarChange(event) {\n        this.setState({ avatar: event.target.value });\n    }\n\n    render() {\n        if (this.props.user) {\n            let user = this.props.user;\n\n            return (\n                <UserCard title={`${user.username}'s Profile`}>\n                    <p className=\"card-text mt-3 mb-3 lead text-center\"> <img className=\"rounded\" src={user.avatar} alt={user.avatar} height=\"100px\" width=\"100px\" /></p>\n                    <p className=\"card-text mb-0 lead text-center\">Role: {user.role}</p>\n                    <p className=\"card-text mt-1 lead text-center\">Points: {user.points}</p>\n\n                    <hr />\n\n                    <form onSubmit={this.props.handleProfileUpdate}>\n                        <TextField id=\"smartspace\" label=\"User Smartspace\" value={user.key.smartspace} disabled />\n                        <TextField id=\"email\" label=\"User Email\" value={user.key.email} disabled />\n                        <TextField id=\"username\" label=\"Username\" value={this.state.username} onChange={this.handleUsernameChange} />\n                        <TextField id=\"avatar\" label=\"Avatar\" value={this.state.avatar} onChange={this.handleAvatarChange} />\n                        <button className=\"btn btn-lg btn-primary btn-block mt-3\" type=\"submit\" >Update</button>\n                    </form>\n                </UserCard>\n            );\n        }\n\n        return <UserCard title=\"My Profile\"><Spinner /></UserCard>;\n    }\n}\n\nexport default UserDetails;","import React from \"react\";\nimport { toast } from 'react-toastify';\n\nimport * as api from '../api/smartspace';\nimport UserDetails from \"./UserDetails\";\nimport NavBar from \"./NavBar\";\n\nclass ManageProfile extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { smartspace: \"\", email: \"\", user: null };\n\n\t\tthis.handleProfileUpdate = this.handleProfileUpdate.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.match && this.props.match.params) {\n\n\t\t\tlet params = this.props.match.params;\n\t\t\tthis.setState({ smartspace: params.smartspace, email: params.email });\n\n\t\t\tapi.getUserByKey(params.smartspace, params.email)\n\t\t\t\t.then(res => this.setState({ user: res.data }))\n\t\t\t\t.catch(err => toast.error(err.toString()));\n\t\t}\n\t}\n\n\thandleProfileUpdate(event) {\n\t\tevent.preventDefault();\n\n\t\tlet newUsername = event.target.username.value;\n\t\tlet newAvatar = event.target.avatar.value;\n\n\t\tconst updateUserData = () => {\n\t\t\tapi.getUserByKey(this.state.smartspace, this.state.email).then(res => {\n\t\t\t\tthis.setState({ user: res.data });\n\t\t\t\ttoast.success(\"Updated your profile!\");\n\t\t\t}\n\t\t\t).catch(err => toast.error(err.toString()));\n\t\t}\n\n\t\tapi.updateUser(this.state.smartspace, this.state.email, { username: newUsername, avatar: newAvatar }).then(updateUserData);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<NavBar user={this.state.user} />\n\t\t\t\t<div className=\"container text-center mt-5\">\n\t\t\t\t\t<UserDetails user={this.state.user} handleProfileUpdate={this.handleProfileUpdate} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ManageProfile;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { toast } from 'react-toastify';\n\nimport MainPage from \"./components/mainPage/MainPage\";\nimport Login from \"./components/login/Login.js\";\nimport Register from \"./components/register/Register.js\";\nimport ManageProfile from \"./components/ManageProfile.js\";\n\nimport 'react-toastify/dist/ReactToastify.css';\n\n// Call it once in your app. At the root of your app is the best place --> important for the messages to work\n// usage demo at --> https://fkhadra.github.io/react-toastify/\ntoast.configure()\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<HashRouter>\n\t\t\t\t<Route path=\"/\" exact component={Login} />\n\t\t\t\t<Route path=\"/register/\" exact component={Register} />\n\t\t\t\t<Route path=\"/dashboard/:smartspace/:email/\" exact component={MainPage} />\n\t\t\t\t<Route path=\"/dashboard/:smartspace/:email/profile/\" exact component={ManageProfile} />\n\t\t\t</HashRouter>\n\t\t);\n\t}\n}\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}